Version 4
SHEET 1 4116 944
WIRE 2624 -608 2624 -624
WIRE -368 -560 -656 -560
WIRE -272 -544 -304 -544
WIRE -224 -544 -272 -544
WIRE -112 -544 -144 -544
WIRE -80 -544 -112 -544
WIRE 32 -544 0 -544
WIRE 960 -544 832 -544
WIRE 1168 -544 1040 -544
WIRE 1424 -544 1312 -544
WIRE 1648 -544 1504 -544
WIRE -368 -528 -400 -528
WIRE -272 -528 -272 -544
WIRE 2720 -528 2720 -608
WIRE -880 -496 -880 -560
WIRE 2624 -496 2624 -528
WIRE -656 -448 -656 -560
WIRE 560 -448 528 -448
WIRE 672 -448 640 -448
WIRE 832 -448 832 -544
WIRE 960 -448 832 -448
WIRE 1168 -448 1168 -544
WIRE 1168 -448 1024 -448
WIRE 1312 -448 1312 -544
WIRE 1440 -448 1312 -448
WIRE 1648 -448 1648 -544
WIRE 1648 -448 1504 -448
WIRE -400 -432 -400 -528
WIRE -272 -432 -272 -448
WIRE -272 -432 -400 -432
WIRE -272 -416 -272 -432
WIRE 1888 -416 1888 -432
WIRE 2720 -416 2720 -448
WIRE 2720 -416 2624 -416
WIRE 2816 -416 2720 -416
WIRE 2960 -416 2896 -416
WIRE -880 -384 -880 -416
WIRE -880 -384 -960 -384
WIRE -112 -384 -112 -544
WIRE -80 -384 -112 -384
WIRE -880 -368 -880 -384
WIRE 32 -368 32 -544
WIRE 32 -368 -16 -368
WIRE 384 -368 32 -368
WIRE 416 -368 384 -368
WIRE 528 -368 528 -448
WIRE 528 -368 496 -368
WIRE 544 -368 528 -368
WIRE -80 -352 -112 -352
WIRE 672 -352 672 -448
WIRE 672 -352 608 -352
WIRE 720 -352 672 -352
WIRE 832 -352 832 -448
WIRE 832 -352 800 -352
WIRE 864 -352 832 -352
WIRE 976 -352 944 -352
WIRE 1072 -352 976 -352
WIRE 112 -336 96 -336
WIRE 256 -336 192 -336
WIRE 544 -336 512 -336
WIRE 976 -336 976 -352
WIRE 1168 -336 1168 -448
WIRE 1168 -336 1136 -336
WIRE 1200 -336 1168 -336
WIRE 1312 -336 1312 -448
WIRE 1312 -336 1280 -336
WIRE 1344 -336 1312 -336
WIRE 1456 -336 1424 -336
WIRE 1552 -336 1456 -336
WIRE -272 -320 -272 -336
WIRE -272 -320 -400 -320
WIRE 1072 -320 1040 -320
WIRE 1168 -320 1168 -336
WIRE 1456 -320 1456 -336
WIRE 1648 -320 1648 -448
WIRE 1648 -320 1616 -320
WIRE 1888 -320 1888 -336
WIRE 1888 -320 1648 -320
WIRE 2016 -320 1888 -320
WIRE 2720 -320 2720 -416
WIRE 2784 -320 2720 -320
WIRE -272 -304 -272 -320
WIRE 1552 -304 1520 -304
WIRE 1648 -304 1648 -320
WIRE 1888 -304 1888 -320
WIRE 2128 -304 2080 -304
WIRE 2320 -304 2128 -304
WIRE 2960 -304 2960 -416
WIRE 2960 -304 2848 -304
WIRE 3056 -304 2960 -304
WIRE 96 -288 96 -336
WIRE 176 -288 96 -288
WIRE 256 -288 256 -336
WIRE 256 -288 240 -288
WIRE 512 -288 512 -336
WIRE 2016 -288 1984 -288
WIRE 2416 -288 2384 -288
WIRE 2496 -288 2416 -288
WIRE 2784 -288 2496 -288
WIRE 2320 -272 2288 -272
WIRE 2496 -272 2496 -288
WIRE 976 -256 976 -272
WIRE -880 -240 -880 -288
WIRE 1456 -240 1456 -256
WIRE -400 -224 -400 -320
WIRE -368 -224 -400 -224
WIRE 256 -224 256 -288
WIRE 256 -224 192 -224
WIRE 272 -224 256 -224
WIRE 384 -224 384 -368
WIRE 384 -224 352 -224
WIRE 1040 -224 1040 -320
WIRE 1168 -224 1168 -240
WIRE 1168 -224 1040 -224
WIRE 2288 -224 2288 -272
WIRE 2416 -224 2416 -288
WIRE 2416 -224 2288 -224
WIRE -272 -208 -272 -224
WIRE -272 -208 -304 -208
WIRE -224 -208 -272 -208
WIRE -112 -208 -112 -352
WIRE -112 -208 -144 -208
WIRE -80 -208 -112 -208
WIRE 96 -208 96 -288
WIRE 96 -208 0 -208
WIRE 128 -208 96 -208
WIRE 1168 -208 1168 -224
WIRE 1520 -208 1520 -304
WIRE 1648 -208 1648 -224
WIRE 1648 -208 1520 -208
WIRE 1888 -208 1888 -224
WIRE 1984 -208 1984 -288
WIRE 2016 -208 1984 -208
WIRE 2128 -208 2128 -304
WIRE 2128 -208 2096 -208
WIRE -656 -192 -656 -368
WIRE -496 -192 -656 -192
WIRE -368 -192 -496 -192
WIRE 240 -192 192 -192
WIRE 1648 -192 1648 -208
WIRE 1984 -176 1984 -208
WIRE 2496 -176 2496 -192
WIRE -496 -144 -496 -192
WIRE 240 -112 240 -192
WIRE 1168 -112 1168 -128
WIRE 1648 -96 1648 -112
WIRE 1984 -80 1984 -96
FLAG 512 -288 0
FLAG 240 -112 0
FLAG 976 -256 0
FLAG 1456 -240 0
FLAG 1168 -112 0
FLAG 1648 -96 0
FLAG 2496 -176 0
FLAG 1888 -432 5V
IOPIN 1888 -432 In
FLAG 1888 -208 0
FLAG 1984 -80 0
FLAG -960 -384 0
FLAG -880 -560 Vdd
FLAG -880 -240 Vee
FLAG -336 -176 Vee
FLAG -336 -240 Vdd
FLAG -336 -576 Vee
FLAG -336 -512 Vdd
FLAG -48 -336 Vee
FLAG -48 -400 Vdd
FLAG 160 -176 Vee
FLAG 160 -240 Vdd
FLAG 576 -320 Vee
FLAG 576 -384 Vdd
FLAG 1104 -368 Vee
FLAG 1104 -304 Vdd
FLAG 1584 -352 Vee
FLAG 1584 -288 Vdd
FLAG 2048 -336 Vee
FLAG 2048 -272 Vdd
FLAG 2352 -320 Vee
FLAG 2352 -256 Vdd
FLAG 2720 -608 0
FLAG 2624 -624 0
FLAG 3056 -304 OutPut
IOPIN 3056 -304 Out
FLAG 2816 -272 Vee
FLAG 2816 -336 Vdd
FLAG -496 -144 0
SYMBOL res -288 -544 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL res -288 -432 R0
SYMATTR InstName R2
SYMATTR Value 250
SYMBOL res -288 -320 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL res -128 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 16 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -128 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 16 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 512 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 656 -464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL cap 176 -304 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 2.5ï¿½
SYMBOL res 368 -208 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 470k
SYMBOL res 816 -368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 121k
SYMBOL res 960 -368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 800k
SYMBOL cap 960 -336 R0
SYMATTR InstName C10
SYMATTR Value 1n
SYMBOL cap 1024 -464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 10n
SYMBOL res 1296 -352 R90
WINDOW 0 -34 53 VBottom 2
WINDOW 3 -27 54 VTop 2
SYMATTR InstName R27
SYMATTR Value 45.3k
SYMBOL res 1440 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 221k
SYMBOL cap 1440 -320 R0
SYMATTR InstName C12
SYMATTR Value 10n
SYMBOL cap 1504 -464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 10n
SYMBOL res 1152 -336 R0
SYMATTR InstName R29
SYMATTR Value 1k
SYMBOL res 1152 -224 R0
SYMATTR InstName R30
SYMATTR Value 200k
SYMBOL res 1632 -320 R0
SYMATTR InstName R31
SYMATTR Value 1k
SYMBOL res 1632 -208 R0
SYMATTR InstName R32
SYMATTR Value 200k
SYMBOL res 2480 -288 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL voltage -656 -464 R0
WINDOW 39 0 0 Left 2
WINDOW 0 34 56 Left 2
WINDOW 3 34 84 Left 2
SYMATTR InstName V4
SYMATTR Value SINE(0.2 0.001 10)
SYMATTR Value2 AC 1mv
SYMBOL res 2000 -224 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL res 1872 -432 R0
SYMATTR InstName R18
SYMATTR Value 50k
SYMBOL res 1872 -320 R0
SYMATTR InstName R19
SYMATTR Value 500
SYMBOL res 2000 -192 M0
SYMATTR InstName R9
SYMATTR Value 4k
SYMBOL voltage -880 -512 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5V
SYMBOL voltage -880 -384 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 5V
SYMBOL Opamps\\opamp2 -336 -272 R0
SYMATTR InstName U2
SYMATTR Value MCP6001
SYMBOL Opamps\\opamp2 -336 -480 M180
SYMATTR InstName U1
SYMATTR Value MCP6001
SYMBOL Opamps\\opamp2 -48 -432 R0
SYMATTR InstName U3
SYMATTR Value MCP6001
SYMBOL Opamps\\opamp2 160 -272 M0
SYMATTR InstName U10
SYMATTR Value MCP6001
SYMBOL Opamps\\opamp2 576 -416 R0
SYMATTR InstName U4
SYMATTR Value MCP6001
SYMBOL Opamps\\opamp2 1104 -272 M180
SYMATTR InstName U5
SYMATTR Value MCP6001
SYMBOL Opamps\\opamp2 1584 -256 M180
SYMATTR InstName U6
SYMATTR Value MCP6001
SYMBOL Opamps\\opamp2 2048 -240 M180
SYMATTR InstName U7
SYMATTR Value MCP6001
SYMBOL Opamps\\opamp2 2352 -224 M180
SYMATTR InstName U11
SYMATTR Value MCP6001
SYMBOL res 2704 -544 R0
SYMATTR InstName R11
SYMATTR Value 16.67K
SYMBOL res 2912 -432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 2608 -512 R0
SYMATTR InstName R16
SYMATTR Value 6.25k
SYMBOL voltage 2624 -624 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value -2V
SYMBOL Opamps\\opamp2 2816 -368 R0
SYMATTR InstName U8
SYMATTR Value MCP6001
SYMBOL res 1056 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 5k
SYMBOL res 1520 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 5k
SYMBOL res 208 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 5k
TEXT -1352 -392 Left 2 !.tran 10
TEXT -1352 -368 Left 2 !.lib opamp.sub
TEXT -1352 -416 Left 2 !;ac dec 10 0.001 1k
TEXT 1968 -408 Left 2 ;Non Inverting Amplifier G=5
TEXT 2568 -256 Left 2 ;MPU Load\n0 to 3.3V MAX\nMax Sink of 200mA
TEXT -120 -616 Left 2 ;Instrumental Amplifier G~=20
TEXT 304 -144 Left 2 ;Low Pass Filter
TEXT 456 -512 Left 2 ;Inverting Amplifier G=10
TEXT 832 -632 Left 2 ;2nd Order Low Pass Filters G~=1
TEXT 2304 -392 Left 2 ;Output Buffer
TEXT -1352 -480 Left 2 ;Note:Integrate an Optocoupler
TEXT 1824 -512 Left 2 ;Direct DC Bias
TEXT 1304 -624 Left 2 ;2nd Order Low Pass Filters G~=1
TEXT -1352 -336 Left 2 !.include MCP6001.txt
TEXT 2376 -672 Left 2 ;DC biasing to offset an AC signal with nagetive 1.5V
TEXT 496 -904 Left 2 ;Matthew's Notes:\n- The model you were using for the MCP6001 was very advanced and did not play well with LTspice (it has been dumbed down)\n- Also the MCP6001 is a jack of all trades, consider using something a little more fancy\n- Speaking of which you removed my fancy source setup! (don't play with the real signal until your ready it just slows things down)\n- You no longer have an ideal opamp so you need to bridge your LP Filter caps with a resistor (I added some quickly but everything will need to be re-tuned)\n- I highly recommend you read chapter 2 of Sedra and Smith's Microelectronic Circuits again, a quick refresher could save you alot of fustration
